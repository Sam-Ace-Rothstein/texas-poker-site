<!DOCTYPE HTML>
<!--
	Helios by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>
	<title>Right Sidebar - Helios by HTML5 UP</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>

  />
  <title>Local Solana Wallet Test</title>

  <!-- Wallet Adapter styles (from node_modules) -->
  <link
    rel="stylesheet"
    href="/node_modules/@solana/wallet-adapter-react-ui/styles.css"
  />
</head>
<body class="right-sidebar is-preload">
	<div id="page-wrapper">

		<!-- Header -->
		<div id="header">
			<div class="inner">
				<header>
					<h1><a href="index.html" id="logo">♤ ♡ ♧ ♢ $Texas Poker Bot ♤ ♡ ♧ ♢</a></h1>
				</header>
			</div>
			<nav id="nav">
				<ul>
					<li><a href="left-sidebar.html">$TEXAS</a></li>
					<li><a href="index.html">Home</a></li>
					<li><a href="account.html">Simple Swap</a></li>
				</ul>
			</nav>
		</div>

		<!-- Main -->
		<div class="wrapper style1">
			<div class="container">
				<div class="row gtr-200">
					<!-- Content -->
					<div class="col-8 col-12-mobile" id="content">
						<article id="main">
							<header>
								<h2><a href="#">Simple Swap & Play</a></h2>
								<p>
									Swap your $SOL into gameplay tokens. 1 SOLANA = 1000 Gameplay Tokens. Gameplay tokens are for usage in the
									<a href="https://t.me/texas_holdem_dealer_bot" target="_blank" rel="noopener" style="text-decoration:underline;font-weight:bold;">
										@texas_holdem_dealer_bot
									</a>.
									You can swap your balance of gameplay tokens back into $SOL anytime.
								</p>
							</header>
							<a href="#" class="image featured"><img src="images/pic06.jpg" alt="" /></a>
							<p>…(your article copy here)…</p>
							<section>
								<header><h3>Ultrices tempor sagittis nisl</h3></header>
								<p>…</p>
							</section>
							<section>
								<header><h3>Augue euismod feugiat tempus</h3></header>
								<p>…</p>
							</section>
						</article>
					</div>

					<!-- Sidebar -->
					<div class="col-4 col-12-mobile" id="sidebar">
						<hr class="first" />
						<section>
							<header><h3><a href="#">Play Texas Hold'em with $SOL</a></h3></header>
							<div id="wallet-ui">
								<!-- 1) Telegram info -->
								<p id="greeting">
									Hello, <strong><span id="tgHandle">Loading…</span></strong>
									(TG ID: <strong><span id="tgId">Loading…</span></strong>)
								</p>
								<div id="root" 
       style="display:flex; justify-content:center; align-items:center; height:100vh;">
    <!-- React will mount the button here -->
  </div>
							</div>
						</section>
						<hr />
						<section>
							<header><h3>Live Table Stats!!</h3></header>
							<div class="inner" style="margin:1em 0; text-align:center;">
								<p>Total Tables:               <strong><span id="total-tables">–</span></strong></p>
								<p>Public Tables:              <strong><span id="total-public-tables">–</span></strong></p>
								<p>Private Tables:             <strong><span id="total-private-tables">–</span></strong></p>
								<p>Total Players:              <strong><span id="total-players">–</span></strong></p>
								<p>Total Tokens Transferred In:<strong><span id="total-transfers-in">–</span></strong></p>
								<p>Total Tokens On-Table:      <strong><span id="total-on-table">–</span></strong></p>
								<p>Off-Table Tokens:           <strong><span id="sum-wallets">–</span></strong></p>
								<p>House Wallet Balance:       <strong><span id="house-balance">–</span></strong></p>
								<p>Grand Total Managed:        <strong><span id="grand-total">–</span></strong></p>
								<p>Avg Stack per Table:        <strong><span id="avg-stack">–</span></strong></p>
								<p>Avg Pot per Table:          <strong><span id="avg-pot">–</span></strong></p>
								<p>Total Hands Dealt:          <strong><span id="total-hands-dealt">–</span></strong></p>
								<p>Total All-In Moves:         <strong><span id="total-all-in">–</span></strong></p>
								<p>Total Bets Placed:          <strong><span id="total-bets">–</span></strong></p>
								<p>Total Wins Paid:            <strong><span id="total-wins">–</span></strong></p>
							</div>
						</section>
					</div>
				</div>
				<hr />
			</div>
		</div>

		<!-- Footer -->
		<div id="footer">
			<div class="container">
				<div class="row">
					<section class="col-4 col-12-mobile">
						<header><h2 class="icon brands fa-twitter circled"><span class="label">Tweets</span></h2></header>
						<ul class="divided">
							<li><article class="tweet">…<span class="timestamp">5 hours ago</span></article></li>
						</ul>
					</section>
					<section class="col-4 col-12-mobile">
						<header><h2 class="icon solid fa-file circled"><span class="label">Posts</span></h2></header>
						<ul class="divided">
							<li><article class="post stub"><header><h3><a href="#">Feugiat lorem ipsum</a></h3></header><span class="timestamp">2 days ago</span></article></li>
						</ul>
					</section>
					<section class="col-4 col-12-mobile">
						<header><h2 class="icon solid fa-camera circled"><span class="label">Photos</span></h2></header>
						<div class="row gtr-25">
							<div class="col-6"><a href="#" class="image fit"><img src="images/pic14.jpg" alt="" /></a></div>
							<div class="col-6"><a href="#" class="image fit"><img src="images/pic15.jpg" alt="" /></a></div>
						</div>
					</section>
				</div>
				<hr />
				<div class="row">
					<div class="col-12">
						<section class="contact">
							<header><h3>Nisl turpis nascetur interdum?</h3></header>
							<p>Urna nisl non quis interdum mus ornare ridiculus egestas ridiculus lobortis vivamus tempor aliquet.</p>
							<ul class="icons"><li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li><li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li></ul>
						</section>
						<div class="copyright">
							<ul class="menu"><li>&copy; Untitled. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li></ul>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
	<!-- Point Vite to your account.jsx entry -->
	<script type="module" src="/src/account.jsx"></script>

	<!-- jQuery & Helios scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.dropotron.min.js"></script>
	<script src="assets/js/jquery.scrolly.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

	<!-- Fill in TG info & stats loader -->
	<script>
		// 1) Telegram info
		const params   = new URLSearchParams(window.location.search);
		document.getElementById("tgId").textContent     = params.get("username") || "unknown";
		document.getElementById("tgHandle").textContent = params.get("handle") || "Player";

		// 2) Live stats
		const API_BASE = "https://texas-poker-production.up.railway.app";
		async function loadStats() {
			try {
				const res = await fetch(`${API_BASE}/api/stats`);
				const data = await res.json();
				[
					"total-tables","total-public-tables","total-private-tables","total-players",
					"total-transfers-in","total-on-table","sum-wallets","house-balance","grand-total",
					"avg-stack","avg-pot","total-hands-dealt","total-all-in","total-bets","total-wins"
				].forEach(key => {
					if (data[key.replace(/-/g,"")] != null) {
						document.getElementById(key).textContent = data[key.replace(/-/g,"")] || 0;
					}
				});
			} catch(e){ console.error("Couldn’t load poker stats:",e); }
		}
		loadStats();
		setInterval(loadStats, 30000);
	</script>

	<!-- Simple injected-provider connect -->
	<script>
		const btn    = document.getElementById("connectBtn");
		const out    = document.getElementById("walletAddr");
		// detect any injected Solana provider:
		const provider = window.solana || window.solflare || window.Slope || null;
		if (!provider || !provider.connect) {
			btn.textContent = "No Solana Wallet Detected";
			btn.disabled = true;
		} else {
			btn.disabled = false;
			btn.textContent = "Connect Wallet";
			btn.onclick = async () => {
				btn.disabled = true;
				try {
					if (!provider.isConnected) {
						const res = await provider.connect();
						out.textContent = "Wallet: " + res.publicKey.toString();
						btn.textContent = "Disconnect Wallet";
					} else {
						await provider.disconnect();
						out.textContent = "";
						btn.textContent = "Connect Wallet";
					}
				} catch (err) {
					console.error("Wallet error:", err);
					alert("Failed to connect/disconnect wallet");
				} finally {
					btn.disabled = false;
				}
			};
			// update on external connect/disconnect
			provider.on("connect",   () => { out.textContent = "Wallet: " + provider.publicKey.toString(); btn.textContent = "Disconnect Wallet"; });
			provider.on("disconnect",() => { out.textContent = ""; btn.textContent = "Connect Wallet"; });
		}
	</script>
</body>
</html>